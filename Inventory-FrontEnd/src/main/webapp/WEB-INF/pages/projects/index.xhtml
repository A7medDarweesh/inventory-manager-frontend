<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html" id="parent">
    
    <div class="controls-row">
        <p:commandButton value="Create New" oncomplete="PF('newProject').show();"></p:commandButton>
    </div>
    <p:dataTable  id="prejectsTable" value="#{projectController.userProjectList}" var="project" 
                                              paginator="true" rows="100" 
                                              paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" 
                                              rowsPerPageTemplate="3,25,50,100,250,500" selectionMode="single"
                                              selection="#{projectController.slectedProject}" rowKey="#{project.id}"
                                              > 
        <p:column headerText="Project name" filterBy="name" filterMatchMode="contains">
            <h:outputText value="#{project.name}"/>
        </p:column>
        <p:column headerText="Project desc" filterBy="name" filterMatchMode="contains">
            <h:outputText value="#{project.description}"/>
        </p:column>
        <p:column headerText="Project " filterBy="name" filterMatchMode="contains">
            <h:outputText value="#{project.warehouses.get(0).name}"/>
        </p:column>

                                </p:dataTable> 
    <p:dialog widgetVar="newProject" dynamic="true" fitViewport="true" header="new project">
         <h:panelGroup id="container_test">
                           
             <ui:include src="dialogs/newProject.xhtml" >
                                
                            </ui:include>
                        </h:panelGroup>
    </p:dialog>
    </ui:composition>

