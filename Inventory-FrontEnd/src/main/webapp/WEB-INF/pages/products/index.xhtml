<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html" id="parent">
      <p:commandButton value="add new product" type='button' onclick="PF('addProduct').show();"/>
            <p:dialog widgetVar="addProduct"  width="600" height="350">
                <h:panelGroup id="container_test">
                           
             <ui:include src="dialogs/newProduct.xhtml"/>
                                
                        </h:panelGroup>
                
                
            </p:dialog>
            
        
        <p:dataTable id="products" var="product"
                      paginator="true" rows="100"  paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" 
                       value="#{productCon.allProducts}">
         <p:column headerText="Product Name" sortBy="name" filterBy="name" filterMatchMode="contains"> 
             <h:outputText value="#{product.name}" /> 
                                    </p:column>
             <p:column headerText="Product Discription" sortBy="name" filterBy="name" filterMatchMode="contains"> 
                 <h:outputText value="#{product.description}" /> 
                                    </p:column>
            <p:column headerText="View Details"> 
                <p:commandButton actionListener="#{productCon.viewDetails(product)}" update="@form:container_panel" action="#{screenController.switchScreen('products','productItems')}" value="view details" immediate="true"/>
                                    </p:column>
        
        </p:dataTable>
    
    </ui:composition>

